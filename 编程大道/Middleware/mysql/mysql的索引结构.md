# MYSQL 索引

## MySQL 的索引

<!-- notecardId: 1735052811436 -->

### 1. 索引介绍

MySQL 的索引是一种用于快速查找记录的数据结构。通过索引，可以大大提高查询速度，减少数据库的 I/O 操作。

### 2. 索引分类

MySQL 的索引主要分为以下几类：

- **B-Tree 索引**：默认的索引类型，适用于大多数情况。
- **Hash 索引**：基于哈希表实现，适用于等值查询。
- **Full-text 索引**：用于全文搜索。
- **Spatial 索引**：用于地理空间数据。

### 3. 索引类型

- **主键索引（Primary Key）**：唯一标识表中的每一行，不允许有空值。
- **唯一索引（Unique Key）**：保证列中的值唯一，但允许有空值。
- **普通索引（Index）**：加速查询，但允许重复和空值。
- **全文索引（Full-text Index）**：用于全文搜索。
- **组合索引（Composite Index）**：由多个列组成的索引。

### 4. 按物理分类的索引类型

- **聚簇索引（Clustered Index）**：数据行的物理顺序与索引的顺序一致，每个表只能有一个聚簇索引。
- **非聚簇索引（Non-clustered Index）**：数据行的物理顺序与索引的顺序无关，一个表可以有多个非聚簇索引。

### 5. 索引的底层实现

MySQL 的索引主要通过 B-Tree 和 Hash 表来实现：

- **B-Tree 索引**：使用 B-树或 B+树结构，适用于范围查询和排序操作。
- **Hash 索引**：使用哈希表结构，适用于快速等值查询。

### 6. 优缺点

#### 优点

- **加速查询**：显著提高 SELECT 查询的速度。
- **唯一性**：通过唯一索引，保证数据的唯一性。
- **排序和分组**：加速 ORDER BY 和 GROUP BY 操作。

#### 缺点

- **空间开销**：索引需要占用额外的存储空间。
- **维护开销**：插入、删除和更新操作时，需要维护索引，可能会降低性能。
- **过多索引**：过多的索引会导致查询优化器选择不当的索引，反而降低性能。
