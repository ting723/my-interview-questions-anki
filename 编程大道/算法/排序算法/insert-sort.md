# 排序

## 插入排序算法

<!-- notecardId: 1735833265225 -->

插入排序是一种简单直观的排序算法，其工作原理是通过构建有序序列，对于未排序数据，在已排序序列中从后向前扫描，找到相应位置并插入。插入排序在实现上，通常采用 in-place 排序（即只需用到 O(1)的额外空间的排序），因而在从后向前扫描过程中，需要反复把已排序元素逐步向后挪位，为最新元素提供插入空间。

### 重点

- 核心是在已经排序好队列中依次对比插入
- 有很多的变体：
  - 部分区间的数据比较
  - 不仅仅对数字进行比较，还可以自定义比较规则
  - 只对数组中某些符合条件的字符进行比较等
  - 在对已拍序数组，插入新元素时,和二分查找结合进行，加快排序速度

### 算法步骤

1. 从第一个元素开始，该元素可以认为已经被排序
2. 取出下一个元素，在已经排序的元素序列中从后向前扫描
3. 如果该元素（已排序）大于新元素，将该元素移到下一位置
4. 重复步骤 3，直到找到已排序的元素小于或者等于新元素的位置
5. 将新元素插入到该位置后
6. 重复步骤 2~5

### Go 语言示例

```go
package main

import "fmt"

// 插入排序函数
func insertionSort(arr []int) {
    for i := 1; i < len(arr); i++ {
        key := arr[i]
        j := i - 1
        // 将大于key的元素向后移动
        for j >= 0 && arr[j] > key {
            arr[j+1] = arr[j]
            j = j - 1
        }
        arr[j+1] = key
    }
}

func main() {
    arr := []int{12, 11, 13, 5, 6}
    fmt.Println("未排序数组:", arr)
    insertionSort(arr)
    fmt.Println("已排序数组:", arr)
}
```

### 插入排序的变体

#### 二分插入排序

二分插入排序使用二分查找来定位新元素插入位置，从而减少比较操作的次数。

#### 希尔排序

希尔排序是插入排序的一种更高效的改进版本，也称递减增量排序算法。该方法因 DL．Shell 于 1959 年提出而得名。希尔排序通过将整个待排序记录序列分割成若干子序列分别进行直接插入排序，使得整个序列基本有序，最后再对全体记录进行一次直接插入排序。
