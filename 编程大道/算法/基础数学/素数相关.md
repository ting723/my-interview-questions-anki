# 基础数学

## 如何判断数字是否是素数

<!-- notecardId: 1736562385296 -->

判断一个数字是否是素数的步骤如下：

1. **小于等于 1 的数字不是素数**：

   - 如果数字小于等于 1，则它不是素数。

2. **2 和 3 是素数**：

   - 如果数字是 2 或 3，则它是素数。

3. **排除偶数和 5 的倍数**：

   - 如果数字是偶数且不是 2，或者是 5 的倍数且不是 5，则它不是素数。

4. **试除法**：
   - 从 5 开始，尝试除以所有小于等于数字平方根的奇数。
   - 如果数字能被任何一个试除数整除，则它不是素数。
   - 如果没有任何试除数能整除该数字，则它是素数。

```go
package main

import (
    "fmt"
    "math"
)

func isPrime(n int) bool {
    if n <= 1 {
        return false
    }
    if n <= 3 {
        return true
    }
    if n%2 == 0 || n%5 == 0 {
        return false
    }
    for i := 5; i*i <= n; i += 6 {
        // 检查给定的数字 n 是否可以被 i 或 i+2 整除
        // 如果可以整除，则返回 false，表示 n 不是素数
        // 这里的 i 和 i+2 都是奇数，因为除了 2 以外，所有偶数都不是素数
        if n%i == 0 || n%(i+2) == 0 {
            return false
        }
    }
    return true
}

// 试除法，简单，但有优化空间
func isPrime2(n int) bool {
    for(int i=2;i*i<=n;i++){
        if(n%i==0){
            return false
        }
    }
}

func main() {
    fmt.Println(isPrime(29)) // 输出: true
}
```

这个函数首先排除了小于等于 1 的数字，然后处理了 2 和 3 的特殊情况。接着，它排除了所有偶数和 5 的倍数。最后，它使用试除法检查数字是否为素数。

## 查找组成一个偶数最接近的两个素数

<!-- notecardId: 1736562385307 -->

1. **查找小于偶数的所有素数**：

   - 使用筛选法或试除法找出所有小于给定偶数的素数。

2. **找出和为 n 且差值最小的素数对**：

   - 遍历所有小于 n 的素数，检查是否存在两个素数的和等于 n。
   - 使用以下代码片段进行查找(其中一个素数必然小于 n/2)：

     ```go
     for i := 2; i < n/2; i++ {
           if isPrime(i) && isPrime(n-i) {
                // 找到素数对
           }
     }
     ```

   - 其中一个素数必定小于 n/2，通过 `isPrime(i) && isPrime(n - i)` 可以确定这两个素数。
   - 选择差值最小的素数对作为结果。
