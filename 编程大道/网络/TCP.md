# TCP

## TCP 概述

<!-- notecardId: 1735105994697 -->

### 概念

TCP（Transmission Control Protocol，传输控制协议）是一种面向连接的、可靠的、基于字节流的传输层通信协议。它是互联网协议套件（TCP/IP）中的核心协议之一，主要用于在网络中提供可靠的数据传输服务。

### 特点

- **面向连接**：在传输数据之前，必须先建立连接。
- **可靠传输**：通过确认应答、超时重传、流量控制等机制，确保数据的可靠传输。
- **顺序传输**：保证数据包按发送顺序到达接收方。
- **全双工通信**：允许通信双方同时发送和接收数据。

### 三次握手

三次握手是指在建立 TCP 连接时，客户端和服务器之间需要交换三个数据包，以确保双方都准备好进行通信。

1. **第一次握手**：客户端发送一个 SYN（同步序列编号）包到服务器，表示请求建立连接。
2. **第二次握手**：服务器收到 SYN 包后，回复一个 SYN-ACK（同步序列编号-确认）包，表示同意建立连接。
3. **第三次握手**：客户端收到 SYN-ACK 包后，再发送一个 ACK（确认）包，表示连接建立成功。

### 四次挥手

四次挥手是指在断开 TCP 连接时，客户端和服务器之间需要交换四个数据包，以确保双方都同意断开连接。

1. **第一次挥手**：客户端发送一个 FIN（终止）包到服务器，表示请求断开连接。
2. **第二次挥手**：服务器收到 FIN 包后，回复一个 ACK（确认）包，表示同意断开连接。
3. **第三次挥手**：服务器发送一个 FIN 包到客户端，表示服务器也准备断开连接。
4. **第四次挥手**：客户端收到 FIN 包后，回复一个 ACK 包，表示连接断开完成。

### 使用场景

- **文件传输**：如 FTP（文件传输协议）使用 TCP 来确保文件数据的完整性和可靠性。
- **远程登录**：如 SSH（安全外壳协议）使用 TCP 来提供安全可靠的远程登录服务。
- **电子邮件**：如 SMTP（简单邮件传输协议）使用 TCP 来确保邮件数据的可靠传输。
- **网页浏览**：如 HTTP/HTTPS（超文本传输协议/安全超文本传输协议）使用 TCP 来确保网页数据的完整性和可靠性。
